{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _hooks = require(\"@rainbow-modules/hooks\");\n\nvar _label = _interopRequireDefault(require(\"../Input/label\"));\n\nvar _RenderIf = _interopRequireDefault(require(\"../RenderIf\"));\n\nvar _container = _interopRequireDefault(require(\"../Input/styled/container\"));\n\nvar _helpText = _interopRequireDefault(require(\"../Input/styled/helpText\"));\n\nvar _errorText = _interopRequireDefault(require(\"../Input/styled/errorText\"));\n\nvar _styled = require(\"./styled\");\n\nvar _hooks2 = require(\"../../libs/hooks\");\n\nvar _hooks3 = require(\"./hooks\");\n\nvar _countriesDropdown = _interopRequireDefault(require(\"./countriesDropdown\"));\n/**\n * phone input are used for freeform data entry.\n * @category Form\n */\n\n\nvar PhoneInput = _react[\"default\"].forwardRef(function (props, ref) {\n  var _useReduxForm = (0, _hooks2.useReduxForm)(props),\n      value = _useReduxForm.value,\n      name = _useReduxForm.name,\n      placeholder = _useReduxForm.placeholder,\n      icon = _useReduxForm.icon,\n      bottomHelpText = _useReduxForm.bottomHelpText,\n      required = _useReduxForm.required,\n      error = _useReduxForm.error,\n      disabled = _useReduxForm.disabled,\n      readOnly = _useReduxForm.readOnly,\n      tabIndex = _useReduxForm.tabIndex,\n      onChange = _useReduxForm.onChange,\n      onClick = _useReduxForm.onClick,\n      onFocus = _useReduxForm.onFocus,\n      onBlur = _useReduxForm.onBlur,\n      className = _useReduxForm.className,\n      style = _useReduxForm.style,\n      id = _useReduxForm.id,\n      label = _useReduxForm.label,\n      hideLabel = _useReduxForm.hideLabel,\n      countriesProps = _useReduxForm.countries;\n\n  var containerRef = (0, _react.useRef)();\n  var triggerRef = (0, _react.useRef)();\n  var searchRef = (0, _react.useRef)();\n  var inputRef = (0, _react.useRef)();\n  (0, _react.useImperativeHandle)(ref, function () {\n    return {\n      focus: function focus() {\n        inputRef.current.focus();\n      },\n      click: function click() {\n        inputRef.current.click();\n      },\n      blur: function blur() {\n        inputRef.current.blur();\n      }\n    };\n  });\n  var inputId = (0, _hooks2.useUniqueIdentifier)('phone-input');\n  var errorMessageId = (0, _hooks2.useErrorMessageId)(error);\n  var labelId = (0, _hooks2.useLabelId)(label);\n  var phone = value && value.phone || '';\n  var countries = (0, _hooks3.useCountries)(countriesProps);\n  var country = (0, _hooks3.useCountry)(value, countries);\n  var countryCode = country.countryCode,\n      isoCode = country.isoCode,\n      flagIcon = country.flagIcon;\n\n  var _useFocusIndex = (0, _hooks3.useFocusIndex)(containerRef, triggerRef, searchRef, inputRef),\n      _useFocusIndex2 = (0, _slicedToArray2[\"default\"])(_useFocusIndex, 2),\n      focusIndex = _useFocusIndex2[0],\n      setFocusIndex = _useFocusIndex2[1];\n\n  (0, _hooks.useOutsideClick)(containerRef, function () {\n    setFocusIndex(-1);\n  }, focusIndex > -1);\n  var handleFocus = (0, _hooks3.useHandleFocus)(focusIndex, onFocus, setFocusIndex);\n  var handleBlur = (0, _hooks3.useHandleBlur)(focusIndex, onBlur);\n  var isOpen = focusIndex === 1;\n  var handleCountryChange = (0, _hooks3.useHandleCountryChange)(phone, onChange, setFocusIndex, isOpen);\n\n  function handlePhoneChange(event) {\n    var rawPhone = event.target.value;\n    var newPhone = rawPhone.replace(/\\D/g, '');\n    onChange({\n      countryCode: countryCode,\n      isoCode: isoCode,\n      phone: newPhone\n    });\n  }\n\n  function handleClick() {\n    if (focusIndex === 1) {\n      setFocusIndex(0);\n    } else {\n      setFocusIndex(1);\n    }\n  }\n\n  var isFocus = focusIndex > -1;\n  var formattedCountryCode = \"(\".concat(countryCode, \")\");\n  var isReadOnly = readOnly && !disabled;\n  var hasTrigger = !isReadOnly && countries.length > 1;\n  var isOnlyCountry = !isReadOnly && countries.length === 1;\n  return _react[\"default\"].createElement(_container[\"default\"], {\n    id: id,\n    ref: containerRef,\n    className: className,\n    style: style\n  }, _react[\"default\"].createElement(_label[\"default\"], {\n    label: label,\n    hideLabel: hideLabel,\n    required: required,\n    inputId: inputId,\n    readOnly: readOnly,\n    id: labelId\n  }), _react[\"default\"].createElement(_styled.StyledInputContainer, {\n    disabled: disabled,\n    readOnly: readOnly,\n    iconPosition: \"right\",\n    icon: icon,\n    error: error,\n    isFocus: isFocus\n  }, _react[\"default\"].createElement(_RenderIf[\"default\"], {\n    isTrue: isReadOnly\n  }, _react[\"default\"].createElement(_styled.StyledFlagContainer, {\n    readOnly: true\n  }, flagIcon)), _react[\"default\"].createElement(_RenderIf[\"default\"], {\n    isTrue: hasTrigger\n  }, _react[\"default\"].createElement(_styled.StyledTrigger, {\n    ref: triggerRef,\n    onClick: handleClick,\n    onFocus: function onFocus(event) {\n      return handleFocus(event, 0);\n    },\n    onBlur: handleBlur,\n    tabIndex: tabIndex,\n    disabled: disabled\n  }, _react[\"default\"].createElement(_styled.StyledFlagContainer, {\n    disabled: disabled\n  }, flagIcon, _react[\"default\"].createElement(_styled.StyledIndicator, {\n    error: error,\n    disabled: disabled\n  })))), _react[\"default\"].createElement(_RenderIf[\"default\"], {\n    isTrue: isOnlyCountry\n  }, _react[\"default\"].createElement(_styled.StyledTrigger, {\n    ref: triggerRef,\n    onFocus: function onFocus(event) {\n      return handleFocus(event, 0);\n    },\n    onBlur: handleBlur,\n    tabIndex: tabIndex,\n    disabled: disabled\n  }, _react[\"default\"].createElement(_styled.StyledFlagContainer, {\n    disabled: disabled\n  }, flagIcon))), _react[\"default\"].createElement(_styled.StyledCountryCode, null, formattedCountryCode), _react[\"default\"].createElement(_styled.StyledInput, {\n    id: inputId,\n    ref: inputRef,\n    name: name,\n    value: phone,\n    type: \"tel\",\n    placeholder: placeholder,\n    tabIndex: tabIndex,\n    onFocus: function onFocus(event) {\n      return handleFocus(event, 2);\n    },\n    onBlur: handleBlur,\n    onClick: onClick,\n    onChange: handlePhoneChange,\n    disabled: disabled,\n    readOnly: readOnly,\n    required: required,\n    \"aria-labelledby\": labelId,\n    \"aria-describedby\": errorMessageId,\n    iconPosition: \"right\",\n    icon: icon,\n    error: error,\n    isFocus: isFocus\n  }), _react[\"default\"].createElement(_RenderIf[\"default\"], {\n    isTrue: icon\n  }, _react[\"default\"].createElement(_styled.StyledIconContainer, {\n    error: error\n  }, icon)), _react[\"default\"].createElement(_countriesDropdown[\"default\"], {\n    country: country,\n    countries: countries,\n    isOpen: isOpen,\n    searchRef: searchRef,\n    setFocusIndex: setFocusIndex,\n    handleFocus: handleFocus,\n    handleBlur: handleBlur,\n    onCountryChange: handleCountryChange\n  })), _react[\"default\"].createElement(_RenderIf[\"default\"], {\n    isTrue: bottomHelpText\n  }, _react[\"default\"].createElement(_helpText[\"default\"], {\n    alignSelf: \"center\"\n  }, bottomHelpText)), _react[\"default\"].createElement(_RenderIf[\"default\"], {\n    isTrue: error\n  }, _react[\"default\"].createElement(_errorText[\"default\"], {\n    alignSelf: \"center\",\n    id: errorMessageId\n  }, error)));\n});\n\nPhoneInput.propTypes = {\n  /** Specifies the value of an input element. */\n  value: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].string, _propTypes[\"default\"].object]),\n\n  /** The name of the input. */\n  name: _propTypes[\"default\"].string,\n\n  /** Text label for the input. */\n  label: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].string, _propTypes[\"default\"].node]),\n\n  /** A boolean to hide the input label. */\n  hideLabel: _propTypes[\"default\"].bool,\n\n  /** Text that is displayed when the field is empty, to prompt the user for a valid entry. */\n  placeholder: _propTypes[\"default\"].string,\n\n  /** The icon to show if it is passed. It must be a svg icon or a font icon. */\n  icon: _propTypes[\"default\"].node,\n\n  /** Shows the help message below the input. */\n  bottomHelpText: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].string, _propTypes[\"default\"].node]),\n\n  /** Specifies that an input field must be filled out before submitting the form.\n   * This value defaults to false. */\n  required: _propTypes[\"default\"].bool,\n\n  /** Specifies that an input field must be filled out before submitting the form. */\n  error: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].string, _propTypes[\"default\"].node]),\n\n  /** Specifies that an input element should be disabled. This value defaults to false. */\n  disabled: _propTypes[\"default\"].bool,\n\n  /** Specifies that an input field is read-only. This value defaults to false. */\n  readOnly: _propTypes[\"default\"].bool,\n\n  /** Specifies the tab order of an element (when the tab button is used for navigating). */\n  tabIndex: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].number, _propTypes[\"default\"].string]),\n\n  /** The action triggered when a value attribute changes. */\n  onChange: _propTypes[\"default\"].func,\n\n  /** The action triggered when the element is clicked. */\n  onClick: _propTypes[\"default\"].func,\n\n  /** The action triggered when the element receives focus. */\n  onFocus: _propTypes[\"default\"].func,\n\n  /** The action triggered when the element releases focus. */\n  onBlur: _propTypes[\"default\"].func,\n\n  /** A CSS class for the outer element, in addition to the component's base classes. */\n  className: _propTypes[\"default\"].string,\n\n  /** An object with custom style applied to the outer element. */\n  style: _propTypes[\"default\"].object,\n\n  /** The id of the outer element. */\n  id: _propTypes[\"default\"].string,\n\n  /** Specifies the available countries for selection. */\n  countries: _propTypes[\"default\"].array\n};\nPhoneInput.defaultProps = {\n  id: undefined,\n  name: undefined,\n  placeholder: null,\n  icon: undefined,\n  label: undefined,\n  hideLabel: false,\n  bottomHelpText: null,\n  required: false,\n  error: null,\n  disabled: false,\n  readOnly: false,\n  tabIndex: undefined,\n  className: undefined,\n  style: undefined,\n  onClick: function onClick() {},\n  onFocus: function onFocus() {},\n  onBlur: function onBlur() {},\n  onChange: function onChange() {},\n  value: undefined,\n  countries: ['af', 'ax', 'al', 'dz', 'as', 'ad', 'ao', 'ai', 'ag', 'ar', 'am', 'aw', 'ac', 'au', 'at', 'az', 'bs', 'bh', 'bd', 'bb', 'by', 'be', 'bz', 'bj', 'bm', 'bt', 'bo', 'bq', 'ba', 'bw', 'br', 'vg', 'bn', 'bg', 'bf', 'bi', 'kh', 'cm', 'ca', 'cv', 'ky', 'cf', 'td', 'cl', 'cn', 'cx', 'cc', 'co', 'km', 'cg', 'cd', 'ck', 'cr', 'ci', 'hr', 'cu', 'cw', 'cy', 'cz', 'dk', 'dj', 'dm', 'do', 'ec', 'eg', 'sv', 'gq', 'er', 'ee', 'et', 'fk', 'fo', 'fj', 'fi', 'fr', 'gf', 'pf', 'ga', 'gm', 'ge', 'de', 'gh', 'gi', 'gr', 'gl', 'gd', 'gp', 'gu', 'gt', 'gg', 'gn', 'gw', 'gy', 'ht', 'hn', 'hk', 'hu', 'is', 'in', 'id', 'ir', 'iq', 'ie', 'im', 'il', 'it', 'jm', 'jp', 'je', 'jo', 'kz', 'ke', 'ki', 'kv', 'kw', 'kg', 'la', 'lv', 'lb', 'ls', 'lr', 'ly', 'li', 'lt', 'lu', 'mo', 'mk', 'mg', 'mw', 'my', 'mv', 'ml', 'mt', 'mh', 'mq', 'mr', 'mu', 'yt', 'mx', 'fm', 'md', 'mc', 'mn', 'me', 'ms', 'ma', 'mz', 'mm', 'na', 'nr', 'np', 'nl', 'nc', 'nz', 'ni', 'ne', 'ng', 'nu', 'nf', 'kp', 'mp', 'no', 'om', 'pk', 'pw', 'ps', 'pa', 'pg', 'py', 'pe', 'ph', 'pl', 'pt', 'pr', 'qa', 're', 'ro', 'ru', 'rw', 'bl', 'sh', 'kn', 'lc', 'mf', 'pm', 'vc', 'ws', 'sm', 'st', 'sa', 'sn', 'rs', 'sc', 'sl', 'sg', 'sx', 'sk', 'si', 'sb', 'so', 'za', 'kr', 'ss', 'es', 'lk', 'sd', 'sr', 'sj', 'sz', 'se', 'ch', 'sy', 'tw', 'tj', 'tz', 'th', 'tl', 'tg', 'tk', 'to', 'tt', 'tn', 'tr', 'tm', 'tc', 'tv', 'vi', 'ug', 'ua', 'ae', 'gb', 'us', 'uy', 'uz', 'vu', 'va', 've', 'vn', 'wf', 'ye', 'zm', 'zw']\n};\nvar _default = PhoneInput;\nexports[\"default\"] = _default;","map":{"version":3,"sources":["/Users/Saul/Desktop/shack2/node_modules/react-rainbow-components/components/PhoneInput/index.js"],"names":["_interopRequireWildcard","require","_interopRequireDefault","Object","defineProperty","exports","value","_slicedToArray2","_react","_propTypes","_hooks","_label","_RenderIf","_container","_helpText","_errorText","_styled","_hooks2","_hooks3","_countriesDropdown","PhoneInput","forwardRef","props","ref","_useReduxForm","useReduxForm","name","placeholder","icon","bottomHelpText","required","error","disabled","readOnly","tabIndex","onChange","onClick","onFocus","onBlur","className","style","id","label","hideLabel","countriesProps","countries","containerRef","useRef","triggerRef","searchRef","inputRef","useImperativeHandle","focus","current","click","blur","inputId","useUniqueIdentifier","errorMessageId","useErrorMessageId","labelId","useLabelId","phone","useCountries","country","useCountry","countryCode","isoCode","flagIcon","_useFocusIndex","useFocusIndex","_useFocusIndex2","focusIndex","setFocusIndex","useOutsideClick","handleFocus","useHandleFocus","handleBlur","useHandleBlur","isOpen","handleCountryChange","useHandleCountryChange","handlePhoneChange","event","rawPhone","target","newPhone","replace","handleClick","isFocus","formattedCountryCode","concat","isReadOnly","hasTrigger","length","isOnlyCountry","createElement","StyledInputContainer","iconPosition","isTrue","StyledFlagContainer","StyledTrigger","StyledIndicator","StyledCountryCode","StyledInput","type","StyledIconContainer","onCountryChange","alignSelf","propTypes","oneOfType","string","object","node","bool","number","func","array","defaultProps","undefined","_default"],"mappings":"AAAA;;AAEA,IAAIA,uBAAuB,GAAGC,OAAO,CAAC,+CAAD,CAArC;;AAEA,IAAIC,sBAAsB,GAAGD,OAAO,CAAC,8CAAD,CAApC;;AAEAE,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAC3CC,EAAAA,KAAK,EAAE;AADoC,CAA7C;AAGAD,OAAO,CAAC,SAAD,CAAP,GAAqB,KAAK,CAA1B;;AAEA,IAAIE,eAAe,GAAGL,sBAAsB,CAACD,OAAO,CAAC,sCAAD,CAAR,CAA5C;;AAEA,IAAIO,MAAM,GAAGR,uBAAuB,CAACC,OAAO,CAAC,OAAD,CAAR,CAApC;;AAEA,IAAIQ,UAAU,GAAGP,sBAAsB,CAACD,OAAO,CAAC,YAAD,CAAR,CAAvC;;AAEA,IAAIS,MAAM,GAAGT,OAAO,CAAC,wBAAD,CAApB;;AAEA,IAAIU,MAAM,GAAGT,sBAAsB,CAACD,OAAO,CAAC,gBAAD,CAAR,CAAnC;;AAEA,IAAIW,SAAS,GAAGV,sBAAsB,CAACD,OAAO,CAAC,aAAD,CAAR,CAAtC;;AAEA,IAAIY,UAAU,GAAGX,sBAAsB,CAACD,OAAO,CAAC,2BAAD,CAAR,CAAvC;;AAEA,IAAIa,SAAS,GAAGZ,sBAAsB,CAACD,OAAO,CAAC,0BAAD,CAAR,CAAtC;;AAEA,IAAIc,UAAU,GAAGb,sBAAsB,CAACD,OAAO,CAAC,2BAAD,CAAR,CAAvC;;AAEA,IAAIe,OAAO,GAAGf,OAAO,CAAC,UAAD,CAArB;;AAEA,IAAIgB,OAAO,GAAGhB,OAAO,CAAC,kBAAD,CAArB;;AAEA,IAAIiB,OAAO,GAAGjB,OAAO,CAAC,SAAD,CAArB;;AAEA,IAAIkB,kBAAkB,GAAGjB,sBAAsB,CAACD,OAAO,CAAC,qBAAD,CAAR,CAA/C;AAEA;;;;;;AAIA,IAAImB,UAAU,GAAGZ,MAAM,CAAC,SAAD,CAAN,CAAkBa,UAAlB,CAA6B,UAAUC,KAAV,EAAiBC,GAAjB,EAAsB;AAClE,MAAIC,aAAa,GAAG,CAAC,GAAGP,OAAO,CAACQ,YAAZ,EAA0BH,KAA1B,CAApB;AAAA,MACIhB,KAAK,GAAGkB,aAAa,CAAClB,KAD1B;AAAA,MAEIoB,IAAI,GAAGF,aAAa,CAACE,IAFzB;AAAA,MAGIC,WAAW,GAAGH,aAAa,CAACG,WAHhC;AAAA,MAIIC,IAAI,GAAGJ,aAAa,CAACI,IAJzB;AAAA,MAKIC,cAAc,GAAGL,aAAa,CAACK,cALnC;AAAA,MAMIC,QAAQ,GAAGN,aAAa,CAACM,QAN7B;AAAA,MAOIC,KAAK,GAAGP,aAAa,CAACO,KAP1B;AAAA,MAQIC,QAAQ,GAAGR,aAAa,CAACQ,QAR7B;AAAA,MASIC,QAAQ,GAAGT,aAAa,CAACS,QAT7B;AAAA,MAUIC,QAAQ,GAAGV,aAAa,CAACU,QAV7B;AAAA,MAWIC,QAAQ,GAAGX,aAAa,CAACW,QAX7B;AAAA,MAYIC,OAAO,GAAGZ,aAAa,CAACY,OAZ5B;AAAA,MAaIC,OAAO,GAAGb,aAAa,CAACa,OAb5B;AAAA,MAcIC,MAAM,GAAGd,aAAa,CAACc,MAd3B;AAAA,MAeIC,SAAS,GAAGf,aAAa,CAACe,SAf9B;AAAA,MAgBIC,KAAK,GAAGhB,aAAa,CAACgB,KAhB1B;AAAA,MAiBIC,EAAE,GAAGjB,aAAa,CAACiB,EAjBvB;AAAA,MAkBIC,KAAK,GAAGlB,aAAa,CAACkB,KAlB1B;AAAA,MAmBIC,SAAS,GAAGnB,aAAa,CAACmB,SAnB9B;AAAA,MAoBIC,cAAc,GAAGpB,aAAa,CAACqB,SApBnC;;AAsBA,MAAIC,YAAY,GAAG,CAAC,GAAGtC,MAAM,CAACuC,MAAX,GAAnB;AACA,MAAIC,UAAU,GAAG,CAAC,GAAGxC,MAAM,CAACuC,MAAX,GAAjB;AACA,MAAIE,SAAS,GAAG,CAAC,GAAGzC,MAAM,CAACuC,MAAX,GAAhB;AACA,MAAIG,QAAQ,GAAG,CAAC,GAAG1C,MAAM,CAACuC,MAAX,GAAf;AACA,GAAC,GAAGvC,MAAM,CAAC2C,mBAAX,EAAgC5B,GAAhC,EAAqC,YAAY;AAC/C,WAAO;AACL6B,MAAAA,KAAK,EAAE,SAASA,KAAT,GAAiB;AACtBF,QAAAA,QAAQ,CAACG,OAAT,CAAiBD,KAAjB;AACD,OAHI;AAILE,MAAAA,KAAK,EAAE,SAASA,KAAT,GAAiB;AACtBJ,QAAAA,QAAQ,CAACG,OAAT,CAAiBC,KAAjB;AACD,OANI;AAOLC,MAAAA,IAAI,EAAE,SAASA,IAAT,GAAgB;AACpBL,QAAAA,QAAQ,CAACG,OAAT,CAAiBE,IAAjB;AACD;AATI,KAAP;AAWD,GAZD;AAaA,MAAIC,OAAO,GAAG,CAAC,GAAGvC,OAAO,CAACwC,mBAAZ,EAAiC,aAAjC,CAAd;AACA,MAAIC,cAAc,GAAG,CAAC,GAAGzC,OAAO,CAAC0C,iBAAZ,EAA+B5B,KAA/B,CAArB;AACA,MAAI6B,OAAO,GAAG,CAAC,GAAG3C,OAAO,CAAC4C,UAAZ,EAAwBnB,KAAxB,CAAd;AACA,MAAIoB,KAAK,GAAGxD,KAAK,IAAIA,KAAK,CAACwD,KAAf,IAAwB,EAApC;AACA,MAAIjB,SAAS,GAAG,CAAC,GAAG3B,OAAO,CAAC6C,YAAZ,EAA0BnB,cAA1B,CAAhB;AACA,MAAIoB,OAAO,GAAG,CAAC,GAAG9C,OAAO,CAAC+C,UAAZ,EAAwB3D,KAAxB,EAA+BuC,SAA/B,CAAd;AACA,MAAIqB,WAAW,GAAGF,OAAO,CAACE,WAA1B;AAAA,MACIC,OAAO,GAAGH,OAAO,CAACG,OADtB;AAAA,MAEIC,QAAQ,GAAGJ,OAAO,CAACI,QAFvB;;AAIA,MAAIC,cAAc,GAAG,CAAC,GAAGnD,OAAO,CAACoD,aAAZ,EAA2BxB,YAA3B,EAAyCE,UAAzC,EAAqDC,SAArD,EAAgEC,QAAhE,CAArB;AAAA,MACIqB,eAAe,GAAG,CAAC,GAAGhE,eAAe,CAAC,SAAD,CAAnB,EAAgC8D,cAAhC,EAAgD,CAAhD,CADtB;AAAA,MAEIG,UAAU,GAAGD,eAAe,CAAC,CAAD,CAFhC;AAAA,MAGIE,aAAa,GAAGF,eAAe,CAAC,CAAD,CAHnC;;AAKA,GAAC,GAAG7D,MAAM,CAACgE,eAAX,EAA4B5B,YAA5B,EAA0C,YAAY;AACpD2B,IAAAA,aAAa,CAAC,CAAC,CAAF,CAAb;AACD,GAFD,EAEGD,UAAU,GAAG,CAAC,CAFjB;AAGA,MAAIG,WAAW,GAAG,CAAC,GAAGzD,OAAO,CAAC0D,cAAZ,EAA4BJ,UAA5B,EAAwCnC,OAAxC,EAAiDoC,aAAjD,CAAlB;AACA,MAAII,UAAU,GAAG,CAAC,GAAG3D,OAAO,CAAC4D,aAAZ,EAA2BN,UAA3B,EAAuClC,MAAvC,CAAjB;AACA,MAAIyC,MAAM,GAAGP,UAAU,KAAK,CAA5B;AACA,MAAIQ,mBAAmB,GAAG,CAAC,GAAG9D,OAAO,CAAC+D,sBAAZ,EAAoCnB,KAApC,EAA2C3B,QAA3C,EAAqDsC,aAArD,EAAoEM,MAApE,CAA1B;;AAEA,WAASG,iBAAT,CAA2BC,KAA3B,EAAkC;AAChC,QAAIC,QAAQ,GAAGD,KAAK,CAACE,MAAN,CAAa/E,KAA5B;AACA,QAAIgF,QAAQ,GAAGF,QAAQ,CAACG,OAAT,CAAiB,KAAjB,EAAwB,EAAxB,CAAf;AACApD,IAAAA,QAAQ,CAAC;AACP+B,MAAAA,WAAW,EAAEA,WADN;AAEPC,MAAAA,OAAO,EAAEA,OAFF;AAGPL,MAAAA,KAAK,EAAEwB;AAHA,KAAD,CAAR;AAKD;;AAED,WAASE,WAAT,GAAuB;AACrB,QAAIhB,UAAU,KAAK,CAAnB,EAAsB;AACpBC,MAAAA,aAAa,CAAC,CAAD,CAAb;AACD,KAFD,MAEO;AACLA,MAAAA,aAAa,CAAC,CAAD,CAAb;AACD;AACF;;AAED,MAAIgB,OAAO,GAAGjB,UAAU,GAAG,CAAC,CAA5B;AACA,MAAIkB,oBAAoB,GAAG,IAAIC,MAAJ,CAAWzB,WAAX,EAAwB,GAAxB,CAA3B;AACA,MAAI0B,UAAU,GAAG3D,QAAQ,IAAI,CAACD,QAA9B;AACA,MAAI6D,UAAU,GAAG,CAACD,UAAD,IAAe/C,SAAS,CAACiD,MAAV,GAAmB,CAAnD;AACA,MAAIC,aAAa,GAAG,CAACH,UAAD,IAAe/C,SAAS,CAACiD,MAAV,KAAqB,CAAxD;AACA,SAAOtF,MAAM,CAAC,SAAD,CAAN,CAAkBwF,aAAlB,CAAgCnF,UAAU,CAAC,SAAD,CAA1C,EAAuD;AAC5D4B,IAAAA,EAAE,EAAEA,EADwD;AAE5DlB,IAAAA,GAAG,EAAEuB,YAFuD;AAG5DP,IAAAA,SAAS,EAAEA,SAHiD;AAI5DC,IAAAA,KAAK,EAAEA;AAJqD,GAAvD,EAKJhC,MAAM,CAAC,SAAD,CAAN,CAAkBwF,aAAlB,CAAgCrF,MAAM,CAAC,SAAD,CAAtC,EAAmD;AACpD+B,IAAAA,KAAK,EAAEA,KAD6C;AAEpDC,IAAAA,SAAS,EAAEA,SAFyC;AAGpDb,IAAAA,QAAQ,EAAEA,QAH0C;AAIpD0B,IAAAA,OAAO,EAAEA,OAJ2C;AAKpDvB,IAAAA,QAAQ,EAAEA,QAL0C;AAMpDQ,IAAAA,EAAE,EAAEmB;AANgD,GAAnD,CALI,EAYHpD,MAAM,CAAC,SAAD,CAAN,CAAkBwF,aAAlB,CAAgChF,OAAO,CAACiF,oBAAxC,EAA8D;AAChEjE,IAAAA,QAAQ,EAAEA,QADsD;AAEhEC,IAAAA,QAAQ,EAAEA,QAFsD;AAGhEiE,IAAAA,YAAY,EAAE,OAHkD;AAIhEtE,IAAAA,IAAI,EAAEA,IAJ0D;AAKhEG,IAAAA,KAAK,EAAEA,KALyD;AAMhE0D,IAAAA,OAAO,EAAEA;AANuD,GAA9D,EAODjF,MAAM,CAAC,SAAD,CAAN,CAAkBwF,aAAlB,CAAgCpF,SAAS,CAAC,SAAD,CAAzC,EAAsD;AACvDuF,IAAAA,MAAM,EAAEP;AAD+C,GAAtD,EAEApF,MAAM,CAAC,SAAD,CAAN,CAAkBwF,aAAlB,CAAgChF,OAAO,CAACoF,mBAAxC,EAA6D;AAC9DnE,IAAAA,QAAQ,EAAE;AADoD,GAA7D,EAEAmC,QAFA,CAFA,CAPC,EAWW5D,MAAM,CAAC,SAAD,CAAN,CAAkBwF,aAAlB,CAAgCpF,SAAS,CAAC,SAAD,CAAzC,EAAsD;AACnEuF,IAAAA,MAAM,EAAEN;AAD2D,GAAtD,EAEZrF,MAAM,CAAC,SAAD,CAAN,CAAkBwF,aAAlB,CAAgChF,OAAO,CAACqF,aAAxC,EAAuD;AACxD9E,IAAAA,GAAG,EAAEyB,UADmD;AAExDZ,IAAAA,OAAO,EAAEoD,WAF+C;AAGxDnD,IAAAA,OAAO,EAAE,SAASA,OAAT,CAAiB8C,KAAjB,EAAwB;AAC/B,aAAOR,WAAW,CAACQ,KAAD,EAAQ,CAAR,CAAlB;AACD,KALuD;AAMxD7C,IAAAA,MAAM,EAAEuC,UANgD;AAOxD3C,IAAAA,QAAQ,EAAEA,QAP8C;AAQxDF,IAAAA,QAAQ,EAAEA;AAR8C,GAAvD,EASAxB,MAAM,CAAC,SAAD,CAAN,CAAkBwF,aAAlB,CAAgChF,OAAO,CAACoF,mBAAxC,EAA6D;AAC9DpE,IAAAA,QAAQ,EAAEA;AADoD,GAA7D,EAEAoC,QAFA,EAEU5D,MAAM,CAAC,SAAD,CAAN,CAAkBwF,aAAlB,CAAgChF,OAAO,CAACsF,eAAxC,EAAyD;AACpEvE,IAAAA,KAAK,EAAEA,KAD6D;AAEpEC,IAAAA,QAAQ,EAAEA;AAF0D,GAAzD,CAFV,CATA,CAFY,CAXX,EA2BGxB,MAAM,CAAC,SAAD,CAAN,CAAkBwF,aAAlB,CAAgCpF,SAAS,CAAC,SAAD,CAAzC,EAAsD;AAC3DuF,IAAAA,MAAM,EAAEJ;AADmD,GAAtD,EAEJvF,MAAM,CAAC,SAAD,CAAN,CAAkBwF,aAAlB,CAAgChF,OAAO,CAACqF,aAAxC,EAAuD;AACxD9E,IAAAA,GAAG,EAAEyB,UADmD;AAExDX,IAAAA,OAAO,EAAE,SAASA,OAAT,CAAiB8C,KAAjB,EAAwB;AAC/B,aAAOR,WAAW,CAACQ,KAAD,EAAQ,CAAR,CAAlB;AACD,KAJuD;AAKxD7C,IAAAA,MAAM,EAAEuC,UALgD;AAMxD3C,IAAAA,QAAQ,EAAEA,QAN8C;AAOxDF,IAAAA,QAAQ,EAAEA;AAP8C,GAAvD,EAQAxB,MAAM,CAAC,SAAD,CAAN,CAAkBwF,aAAlB,CAAgChF,OAAO,CAACoF,mBAAxC,EAA6D;AAC9DpE,IAAAA,QAAQ,EAAEA;AADoD,GAA7D,EAEAoC,QAFA,CARA,CAFI,CA3BH,EAuCY5D,MAAM,CAAC,SAAD,CAAN,CAAkBwF,aAAlB,CAAgChF,OAAO,CAACuF,iBAAxC,EAA2D,IAA3D,EAAiEb,oBAAjE,CAvCZ,EAuCoGlF,MAAM,CAAC,SAAD,CAAN,CAAkBwF,aAAlB,CAAgChF,OAAO,CAACwF,WAAxC,EAAqD;AAC3J/D,IAAAA,EAAE,EAAEe,OADuJ;AAE3JjC,IAAAA,GAAG,EAAE2B,QAFsJ;AAG3JxB,IAAAA,IAAI,EAAEA,IAHqJ;AAI3JpB,IAAAA,KAAK,EAAEwD,KAJoJ;AAK3J2C,IAAAA,IAAI,EAAE,KALqJ;AAM3J9E,IAAAA,WAAW,EAAEA,WAN8I;AAO3JO,IAAAA,QAAQ,EAAEA,QAPiJ;AAQ3JG,IAAAA,OAAO,EAAE,SAASA,OAAT,CAAiB8C,KAAjB,EAAwB;AAC/B,aAAOR,WAAW,CAACQ,KAAD,EAAQ,CAAR,CAAlB;AACD,KAV0J;AAW3J7C,IAAAA,MAAM,EAAEuC,UAXmJ;AAY3JzC,IAAAA,OAAO,EAAEA,OAZkJ;AAa3JD,IAAAA,QAAQ,EAAE+C,iBAbiJ;AAc3JlD,IAAAA,QAAQ,EAAEA,QAdiJ;AAe3JC,IAAAA,QAAQ,EAAEA,QAfiJ;AAgB3JH,IAAAA,QAAQ,EAAEA,QAhBiJ;AAiB3J,uBAAmB8B,OAjBwI;AAkB3J,wBAAoBF,cAlBuI;AAmB3JwC,IAAAA,YAAY,EAAE,OAnB6I;AAoB3JtE,IAAAA,IAAI,EAAEA,IApBqJ;AAqB3JG,IAAAA,KAAK,EAAEA,KArBoJ;AAsB3J0D,IAAAA,OAAO,EAAEA;AAtBkJ,GAArD,CAvCpG,EA8DAjF,MAAM,CAAC,SAAD,CAAN,CAAkBwF,aAAlB,CAAgCpF,SAAS,CAAC,SAAD,CAAzC,EAAsD;AACxDuF,IAAAA,MAAM,EAAEvE;AADgD,GAAtD,EAEDpB,MAAM,CAAC,SAAD,CAAN,CAAkBwF,aAAlB,CAAgChF,OAAO,CAAC0F,mBAAxC,EAA6D;AAC9D3E,IAAAA,KAAK,EAAEA;AADuD,GAA7D,EAEAH,IAFA,CAFC,CA9DA,EAkEOpB,MAAM,CAAC,SAAD,CAAN,CAAkBwF,aAAlB,CAAgC7E,kBAAkB,CAAC,SAAD,CAAlD,EAA+D;AACxE6C,IAAAA,OAAO,EAAEA,OAD+D;AAExEnB,IAAAA,SAAS,EAAEA,SAF6D;AAGxEkC,IAAAA,MAAM,EAAEA,MAHgE;AAIxE9B,IAAAA,SAAS,EAAEA,SAJ6D;AAKxEwB,IAAAA,aAAa,EAAEA,aALyD;AAMxEE,IAAAA,WAAW,EAAEA,WAN2D;AAOxEE,IAAAA,UAAU,EAAEA,UAP4D;AAQxE8B,IAAAA,eAAe,EAAE3B;AARuD,GAA/D,CAlEP,CAZG,EAuFFxE,MAAM,CAAC,SAAD,CAAN,CAAkBwF,aAAlB,CAAgCpF,SAAS,CAAC,SAAD,CAAzC,EAAsD;AACzDuF,IAAAA,MAAM,EAAEtE;AADiD,GAAtD,EAEFrB,MAAM,CAAC,SAAD,CAAN,CAAkBwF,aAAlB,CAAgClF,SAAS,CAAC,SAAD,CAAzC,EAAsD;AACvD8F,IAAAA,SAAS,EAAE;AAD4C,GAAtD,EAEA/E,cAFA,CAFE,CAvFE,EA2FcrB,MAAM,CAAC,SAAD,CAAN,CAAkBwF,aAAlB,CAAgCpF,SAAS,CAAC,SAAD,CAAzC,EAAsD;AACzEuF,IAAAA,MAAM,EAAEpE;AADiE,GAAtD,EAElBvB,MAAM,CAAC,SAAD,CAAN,CAAkBwF,aAAlB,CAAgCjF,UAAU,CAAC,SAAD,CAA1C,EAAuD;AACxD6F,IAAAA,SAAS,EAAE,QAD6C;AAExDnE,IAAAA,EAAE,EAAEiB;AAFoD,GAAvD,EAGA3B,KAHA,CAFkB,CA3Fd,CAAP;AAiGD,CAvLgB,CAAjB;;AAyLAX,UAAU,CAACyF,SAAX,GAAuB;AACrB;AACAvG,EAAAA,KAAK,EAAEG,UAAU,CAAC,SAAD,CAAV,CAAsBqG,SAAtB,CAAgC,CAACrG,UAAU,CAAC,SAAD,CAAV,CAAsBsG,MAAvB,EAA+BtG,UAAU,CAAC,SAAD,CAAV,CAAsBuG,MAArD,CAAhC,CAFc;;AAIrB;AACAtF,EAAAA,IAAI,EAAEjB,UAAU,CAAC,SAAD,CAAV,CAAsBsG,MALP;;AAOrB;AACArE,EAAAA,KAAK,EAAEjC,UAAU,CAAC,SAAD,CAAV,CAAsBqG,SAAtB,CAAgC,CAACrG,UAAU,CAAC,SAAD,CAAV,CAAsBsG,MAAvB,EAA+BtG,UAAU,CAAC,SAAD,CAAV,CAAsBwG,IAArD,CAAhC,CARc;;AAUrB;AACAtE,EAAAA,SAAS,EAAElC,UAAU,CAAC,SAAD,CAAV,CAAsByG,IAXZ;;AAarB;AACAvF,EAAAA,WAAW,EAAElB,UAAU,CAAC,SAAD,CAAV,CAAsBsG,MAdd;;AAgBrB;AACAnF,EAAAA,IAAI,EAAEnB,UAAU,CAAC,SAAD,CAAV,CAAsBwG,IAjBP;;AAmBrB;AACApF,EAAAA,cAAc,EAAEpB,UAAU,CAAC,SAAD,CAAV,CAAsBqG,SAAtB,CAAgC,CAACrG,UAAU,CAAC,SAAD,CAAV,CAAsBsG,MAAvB,EAA+BtG,UAAU,CAAC,SAAD,CAAV,CAAsBwG,IAArD,CAAhC,CApBK;;AAsBrB;;AAEAnF,EAAAA,QAAQ,EAAErB,UAAU,CAAC,SAAD,CAAV,CAAsByG,IAxBX;;AA0BrB;AACAnF,EAAAA,KAAK,EAAEtB,UAAU,CAAC,SAAD,CAAV,CAAsBqG,SAAtB,CAAgC,CAACrG,UAAU,CAAC,SAAD,CAAV,CAAsBsG,MAAvB,EAA+BtG,UAAU,CAAC,SAAD,CAAV,CAAsBwG,IAArD,CAAhC,CA3Bc;;AA6BrB;AACAjF,EAAAA,QAAQ,EAAEvB,UAAU,CAAC,SAAD,CAAV,CAAsByG,IA9BX;;AAgCrB;AACAjF,EAAAA,QAAQ,EAAExB,UAAU,CAAC,SAAD,CAAV,CAAsByG,IAjCX;;AAmCrB;AACAhF,EAAAA,QAAQ,EAAEzB,UAAU,CAAC,SAAD,CAAV,CAAsBqG,SAAtB,CAAgC,CAACrG,UAAU,CAAC,SAAD,CAAV,CAAsB0G,MAAvB,EAA+B1G,UAAU,CAAC,SAAD,CAAV,CAAsBsG,MAArD,CAAhC,CApCW;;AAsCrB;AACA5E,EAAAA,QAAQ,EAAE1B,UAAU,CAAC,SAAD,CAAV,CAAsB2G,IAvCX;;AAyCrB;AACAhF,EAAAA,OAAO,EAAE3B,UAAU,CAAC,SAAD,CAAV,CAAsB2G,IA1CV;;AA4CrB;AACA/E,EAAAA,OAAO,EAAE5B,UAAU,CAAC,SAAD,CAAV,CAAsB2G,IA7CV;;AA+CrB;AACA9E,EAAAA,MAAM,EAAE7B,UAAU,CAAC,SAAD,CAAV,CAAsB2G,IAhDT;;AAkDrB;AACA7E,EAAAA,SAAS,EAAE9B,UAAU,CAAC,SAAD,CAAV,CAAsBsG,MAnDZ;;AAqDrB;AACAvE,EAAAA,KAAK,EAAE/B,UAAU,CAAC,SAAD,CAAV,CAAsBuG,MAtDR;;AAwDrB;AACAvE,EAAAA,EAAE,EAAEhC,UAAU,CAAC,SAAD,CAAV,CAAsBsG,MAzDL;;AA2DrB;AACAlE,EAAAA,SAAS,EAAEpC,UAAU,CAAC,SAAD,CAAV,CAAsB4G;AA5DZ,CAAvB;AA8DAjG,UAAU,CAACkG,YAAX,GAA0B;AACxB7E,EAAAA,EAAE,EAAE8E,SADoB;AAExB7F,EAAAA,IAAI,EAAE6F,SAFkB;AAGxB5F,EAAAA,WAAW,EAAE,IAHW;AAIxBC,EAAAA,IAAI,EAAE2F,SAJkB;AAKxB7E,EAAAA,KAAK,EAAE6E,SALiB;AAMxB5E,EAAAA,SAAS,EAAE,KANa;AAOxBd,EAAAA,cAAc,EAAE,IAPQ;AAQxBC,EAAAA,QAAQ,EAAE,KARc;AASxBC,EAAAA,KAAK,EAAE,IATiB;AAUxBC,EAAAA,QAAQ,EAAE,KAVc;AAWxBC,EAAAA,QAAQ,EAAE,KAXc;AAYxBC,EAAAA,QAAQ,EAAEqF,SAZc;AAaxBhF,EAAAA,SAAS,EAAEgF,SAba;AAcxB/E,EAAAA,KAAK,EAAE+E,SAdiB;AAexBnF,EAAAA,OAAO,EAAE,SAASA,OAAT,GAAmB,CAAE,CAfN;AAgBxBC,EAAAA,OAAO,EAAE,SAASA,OAAT,GAAmB,CAAE,CAhBN;AAiBxBC,EAAAA,MAAM,EAAE,SAASA,MAAT,GAAkB,CAAE,CAjBJ;AAkBxBH,EAAAA,QAAQ,EAAE,SAASA,QAAT,GAAoB,CAAE,CAlBR;AAmBxB7B,EAAAA,KAAK,EAAEiH,SAnBiB;AAoBxB1E,EAAAA,SAAS,EAAE,CAAC,IAAD,EAAO,IAAP,EAAa,IAAb,EAAmB,IAAnB,EAAyB,IAAzB,EAA+B,IAA/B,EAAqC,IAArC,EAA2C,IAA3C,EAAiD,IAAjD,EAAuD,IAAvD,EAA6D,IAA7D,EAAmE,IAAnE,EAAyE,IAAzE,EAA+E,IAA/E,EAAqF,IAArF,EAA2F,IAA3F,EAAiG,IAAjG,EAAuG,IAAvG,EAA6G,IAA7G,EAAmH,IAAnH,EAAyH,IAAzH,EAA+H,IAA/H,EAAqI,IAArI,EAA2I,IAA3I,EAAiJ,IAAjJ,EAAuJ,IAAvJ,EAA6J,IAA7J,EAAmK,IAAnK,EAAyK,IAAzK,EAA+K,IAA/K,EAAqL,IAArL,EAA2L,IAA3L,EAAiM,IAAjM,EAAuM,IAAvM,EAA6M,IAA7M,EAAmN,IAAnN,EAAyN,IAAzN,EAA+N,IAA/N,EAAqO,IAArO,EAA2O,IAA3O,EAAiP,IAAjP,EAAuP,IAAvP,EAA6P,IAA7P,EAAmQ,IAAnQ,EAAyQ,IAAzQ,EAA+Q,IAA/Q,EAAqR,IAArR,EAA2R,IAA3R,EAAiS,IAAjS,EAAuS,IAAvS,EAA6S,IAA7S,EAAmT,IAAnT,EAAyT,IAAzT,EAA+T,IAA/T,EAAqU,IAArU,EAA2U,IAA3U,EAAiV,IAAjV,EAAuV,IAAvV,EAA6V,IAA7V,EAAmW,IAAnW,EAAyW,IAAzW,EAA+W,IAA/W,EAAqX,IAArX,EAA2X,IAA3X,EAAiY,IAAjY,EAAuY,IAAvY,EAA6Y,IAA7Y,EAAmZ,IAAnZ,EAAyZ,IAAzZ,EAA+Z,IAA/Z,EAAqa,IAAra,EAA2a,IAA3a,EAAib,IAAjb,EAAub,IAAvb,EAA6b,IAA7b,EAAmc,IAAnc,EAAyc,IAAzc,EAA+c,IAA/c,EAAqd,IAArd,EAA2d,IAA3d,EAAie,IAAje,EAAue,IAAve,EAA6e,IAA7e,EAAmf,IAAnf,EAAyf,IAAzf,EAA+f,IAA/f,EAAqgB,IAArgB,EAA2gB,IAA3gB,EAAihB,IAAjhB,EAAuhB,IAAvhB,EAA6hB,IAA7hB,EAAmiB,IAAniB,EAAyiB,IAAziB,EAA+iB,IAA/iB,EAAqjB,IAArjB,EAA2jB,IAA3jB,EAAikB,IAAjkB,EAAukB,IAAvkB,EAA6kB,IAA7kB,EAAmlB,IAAnlB,EAAylB,IAAzlB,EAA+lB,IAA/lB,EAAqmB,IAArmB,EAA2mB,IAA3mB,EAAinB,IAAjnB,EAAunB,IAAvnB,EAA6nB,IAA7nB,EAAmoB,IAAnoB,EAAyoB,IAAzoB,EAA+oB,IAA/oB,EAAqpB,IAArpB,EAA2pB,IAA3pB,EAAiqB,IAAjqB,EAAuqB,IAAvqB,EAA6qB,IAA7qB,EAAmrB,IAAnrB,EAAyrB,IAAzrB,EAA+rB,IAA/rB,EAAqsB,IAArsB,EAA2sB,IAA3sB,EAAitB,IAAjtB,EAAutB,IAAvtB,EAA6tB,IAA7tB,EAAmuB,IAAnuB,EAAyuB,IAAzuB,EAA+uB,IAA/uB,EAAqvB,IAArvB,EAA2vB,IAA3vB,EAAiwB,IAAjwB,EAAuwB,IAAvwB,EAA6wB,IAA7wB,EAAmxB,IAAnxB,EAAyxB,IAAzxB,EAA+xB,IAA/xB,EAAqyB,IAAryB,EAA2yB,IAA3yB,EAAizB,IAAjzB,EAAuzB,IAAvzB,EAA6zB,IAA7zB,EAAm0B,IAAn0B,EAAy0B,IAAz0B,EAA+0B,IAA/0B,EAAq1B,IAAr1B,EAA21B,IAA31B,EAAi2B,IAAj2B,EAAu2B,IAAv2B,EAA62B,IAA72B,EAAm3B,IAAn3B,EAAy3B,IAAz3B,EAA+3B,IAA/3B,EAAq4B,IAAr4B,EAA24B,IAA34B,EAAi5B,IAAj5B,EAAu5B,IAAv5B,EAA65B,IAA75B,EAAm6B,IAAn6B,EAAy6B,IAAz6B,EAA+6B,IAA/6B,EAAq7B,IAAr7B,EAA27B,IAA37B,EAAi8B,IAAj8B,EAAu8B,IAAv8B,EAA68B,IAA78B,EAAm9B,IAAn9B,EAAy9B,IAAz9B,EAA+9B,IAA/9B,EAAq+B,IAAr+B,EAA2+B,IAA3+B,EAAi/B,IAAj/B,EAAu/B,IAAv/B,EAA6/B,IAA7/B,EAAmgC,IAAngC,EAAygC,IAAzgC,EAA+gC,IAA/gC,EAAqhC,IAArhC,EAA2hC,IAA3hC,EAAiiC,IAAjiC,EAAuiC,IAAviC,EAA6iC,IAA7iC,EAAmjC,IAAnjC,EAAyjC,IAAzjC,EAA+jC,IAA/jC,EAAqkC,IAArkC,EAA2kC,IAA3kC,EAAilC,IAAjlC,EAAulC,IAAvlC,EAA6lC,IAA7lC,EAAmmC,IAAnmC,EAAymC,IAAzmC,EAA+mC,IAA/mC,EAAqnC,IAArnC,EAA2nC,IAA3nC,EAAioC,IAAjoC,EAAuoC,IAAvoC,EAA6oC,IAA7oC,EAAmpC,IAAnpC,EAAypC,IAAzpC,EAA+pC,IAA/pC,EAAqqC,IAArqC,EAA2qC,IAA3qC,EAAirC,IAAjrC,EAAurC,IAAvrC,EAA6rC,IAA7rC,EAAmsC,IAAnsC,EAAysC,IAAzsC,EAA+sC,IAA/sC,EAAqtC,IAArtC,EAA2tC,IAA3tC,EAAiuC,IAAjuC,EAAuuC,IAAvuC,EAA6uC,IAA7uC,EAAmvC,IAAnvC,EAAyvC,IAAzvC,EAA+vC,IAA/vC,EAAqwC,IAArwC,EAA2wC,IAA3wC,EAAixC,IAAjxC,EAAuxC,IAAvxC,EAA6xC,IAA7xC,EAAmyC,IAAnyC,EAAyyC,IAAzyC,EAA+yC,IAA/yC,EAAqzC,IAArzC,EAA2zC,IAA3zC,EAAi0C,IAAj0C,EAAu0C,IAAv0C,EAA60C,IAA70C,EAAm1C,IAAn1C,EAAy1C,IAAz1C,EAA+1C,IAA/1C,EAAq2C,IAAr2C,EAA22C,IAA32C,EAAi3C,IAAj3C,EAAu3C,IAAv3C,EAA63C,IAA73C,EAAm4C,IAAn4C,EAAy4C,IAAz4C,EAA+4C,IAA/4C,EAAq5C,IAAr5C,EAA25C,IAA35C,EAAi6C,IAAj6C,EAAu6C,IAAv6C;AApBa,CAA1B;AAsBA,IAAI2E,QAAQ,GAAGpG,UAAf;AACAf,OAAO,CAAC,SAAD,CAAP,GAAqBmH,QAArB","sourcesContent":["\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _hooks = require(\"@rainbow-modules/hooks\");\n\nvar _label = _interopRequireDefault(require(\"../Input/label\"));\n\nvar _RenderIf = _interopRequireDefault(require(\"../RenderIf\"));\n\nvar _container = _interopRequireDefault(require(\"../Input/styled/container\"));\n\nvar _helpText = _interopRequireDefault(require(\"../Input/styled/helpText\"));\n\nvar _errorText = _interopRequireDefault(require(\"../Input/styled/errorText\"));\n\nvar _styled = require(\"./styled\");\n\nvar _hooks2 = require(\"../../libs/hooks\");\n\nvar _hooks3 = require(\"./hooks\");\n\nvar _countriesDropdown = _interopRequireDefault(require(\"./countriesDropdown\"));\n\n/**\n * phone input are used for freeform data entry.\n * @category Form\n */\nvar PhoneInput = _react[\"default\"].forwardRef(function (props, ref) {\n  var _useReduxForm = (0, _hooks2.useReduxForm)(props),\n      value = _useReduxForm.value,\n      name = _useReduxForm.name,\n      placeholder = _useReduxForm.placeholder,\n      icon = _useReduxForm.icon,\n      bottomHelpText = _useReduxForm.bottomHelpText,\n      required = _useReduxForm.required,\n      error = _useReduxForm.error,\n      disabled = _useReduxForm.disabled,\n      readOnly = _useReduxForm.readOnly,\n      tabIndex = _useReduxForm.tabIndex,\n      onChange = _useReduxForm.onChange,\n      onClick = _useReduxForm.onClick,\n      onFocus = _useReduxForm.onFocus,\n      onBlur = _useReduxForm.onBlur,\n      className = _useReduxForm.className,\n      style = _useReduxForm.style,\n      id = _useReduxForm.id,\n      label = _useReduxForm.label,\n      hideLabel = _useReduxForm.hideLabel,\n      countriesProps = _useReduxForm.countries;\n\n  var containerRef = (0, _react.useRef)();\n  var triggerRef = (0, _react.useRef)();\n  var searchRef = (0, _react.useRef)();\n  var inputRef = (0, _react.useRef)();\n  (0, _react.useImperativeHandle)(ref, function () {\n    return {\n      focus: function focus() {\n        inputRef.current.focus();\n      },\n      click: function click() {\n        inputRef.current.click();\n      },\n      blur: function blur() {\n        inputRef.current.blur();\n      }\n    };\n  });\n  var inputId = (0, _hooks2.useUniqueIdentifier)('phone-input');\n  var errorMessageId = (0, _hooks2.useErrorMessageId)(error);\n  var labelId = (0, _hooks2.useLabelId)(label);\n  var phone = value && value.phone || '';\n  var countries = (0, _hooks3.useCountries)(countriesProps);\n  var country = (0, _hooks3.useCountry)(value, countries);\n  var countryCode = country.countryCode,\n      isoCode = country.isoCode,\n      flagIcon = country.flagIcon;\n\n  var _useFocusIndex = (0, _hooks3.useFocusIndex)(containerRef, triggerRef, searchRef, inputRef),\n      _useFocusIndex2 = (0, _slicedToArray2[\"default\"])(_useFocusIndex, 2),\n      focusIndex = _useFocusIndex2[0],\n      setFocusIndex = _useFocusIndex2[1];\n\n  (0, _hooks.useOutsideClick)(containerRef, function () {\n    setFocusIndex(-1);\n  }, focusIndex > -1);\n  var handleFocus = (0, _hooks3.useHandleFocus)(focusIndex, onFocus, setFocusIndex);\n  var handleBlur = (0, _hooks3.useHandleBlur)(focusIndex, onBlur);\n  var isOpen = focusIndex === 1;\n  var handleCountryChange = (0, _hooks3.useHandleCountryChange)(phone, onChange, setFocusIndex, isOpen);\n\n  function handlePhoneChange(event) {\n    var rawPhone = event.target.value;\n    var newPhone = rawPhone.replace(/\\D/g, '');\n    onChange({\n      countryCode: countryCode,\n      isoCode: isoCode,\n      phone: newPhone\n    });\n  }\n\n  function handleClick() {\n    if (focusIndex === 1) {\n      setFocusIndex(0);\n    } else {\n      setFocusIndex(1);\n    }\n  }\n\n  var isFocus = focusIndex > -1;\n  var formattedCountryCode = \"(\".concat(countryCode, \")\");\n  var isReadOnly = readOnly && !disabled;\n  var hasTrigger = !isReadOnly && countries.length > 1;\n  var isOnlyCountry = !isReadOnly && countries.length === 1;\n  return _react[\"default\"].createElement(_container[\"default\"], {\n    id: id,\n    ref: containerRef,\n    className: className,\n    style: style\n  }, _react[\"default\"].createElement(_label[\"default\"], {\n    label: label,\n    hideLabel: hideLabel,\n    required: required,\n    inputId: inputId,\n    readOnly: readOnly,\n    id: labelId\n  }), _react[\"default\"].createElement(_styled.StyledInputContainer, {\n    disabled: disabled,\n    readOnly: readOnly,\n    iconPosition: \"right\",\n    icon: icon,\n    error: error,\n    isFocus: isFocus\n  }, _react[\"default\"].createElement(_RenderIf[\"default\"], {\n    isTrue: isReadOnly\n  }, _react[\"default\"].createElement(_styled.StyledFlagContainer, {\n    readOnly: true\n  }, flagIcon)), _react[\"default\"].createElement(_RenderIf[\"default\"], {\n    isTrue: hasTrigger\n  }, _react[\"default\"].createElement(_styled.StyledTrigger, {\n    ref: triggerRef,\n    onClick: handleClick,\n    onFocus: function onFocus(event) {\n      return handleFocus(event, 0);\n    },\n    onBlur: handleBlur,\n    tabIndex: tabIndex,\n    disabled: disabled\n  }, _react[\"default\"].createElement(_styled.StyledFlagContainer, {\n    disabled: disabled\n  }, flagIcon, _react[\"default\"].createElement(_styled.StyledIndicator, {\n    error: error,\n    disabled: disabled\n  })))), _react[\"default\"].createElement(_RenderIf[\"default\"], {\n    isTrue: isOnlyCountry\n  }, _react[\"default\"].createElement(_styled.StyledTrigger, {\n    ref: triggerRef,\n    onFocus: function onFocus(event) {\n      return handleFocus(event, 0);\n    },\n    onBlur: handleBlur,\n    tabIndex: tabIndex,\n    disabled: disabled\n  }, _react[\"default\"].createElement(_styled.StyledFlagContainer, {\n    disabled: disabled\n  }, flagIcon))), _react[\"default\"].createElement(_styled.StyledCountryCode, null, formattedCountryCode), _react[\"default\"].createElement(_styled.StyledInput, {\n    id: inputId,\n    ref: inputRef,\n    name: name,\n    value: phone,\n    type: \"tel\",\n    placeholder: placeholder,\n    tabIndex: tabIndex,\n    onFocus: function onFocus(event) {\n      return handleFocus(event, 2);\n    },\n    onBlur: handleBlur,\n    onClick: onClick,\n    onChange: handlePhoneChange,\n    disabled: disabled,\n    readOnly: readOnly,\n    required: required,\n    \"aria-labelledby\": labelId,\n    \"aria-describedby\": errorMessageId,\n    iconPosition: \"right\",\n    icon: icon,\n    error: error,\n    isFocus: isFocus\n  }), _react[\"default\"].createElement(_RenderIf[\"default\"], {\n    isTrue: icon\n  }, _react[\"default\"].createElement(_styled.StyledIconContainer, {\n    error: error\n  }, icon)), _react[\"default\"].createElement(_countriesDropdown[\"default\"], {\n    country: country,\n    countries: countries,\n    isOpen: isOpen,\n    searchRef: searchRef,\n    setFocusIndex: setFocusIndex,\n    handleFocus: handleFocus,\n    handleBlur: handleBlur,\n    onCountryChange: handleCountryChange\n  })), _react[\"default\"].createElement(_RenderIf[\"default\"], {\n    isTrue: bottomHelpText\n  }, _react[\"default\"].createElement(_helpText[\"default\"], {\n    alignSelf: \"center\"\n  }, bottomHelpText)), _react[\"default\"].createElement(_RenderIf[\"default\"], {\n    isTrue: error\n  }, _react[\"default\"].createElement(_errorText[\"default\"], {\n    alignSelf: \"center\",\n    id: errorMessageId\n  }, error)));\n});\n\nPhoneInput.propTypes = {\n  /** Specifies the value of an input element. */\n  value: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].string, _propTypes[\"default\"].object]),\n\n  /** The name of the input. */\n  name: _propTypes[\"default\"].string,\n\n  /** Text label for the input. */\n  label: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].string, _propTypes[\"default\"].node]),\n\n  /** A boolean to hide the input label. */\n  hideLabel: _propTypes[\"default\"].bool,\n\n  /** Text that is displayed when the field is empty, to prompt the user for a valid entry. */\n  placeholder: _propTypes[\"default\"].string,\n\n  /** The icon to show if it is passed. It must be a svg icon or a font icon. */\n  icon: _propTypes[\"default\"].node,\n\n  /** Shows the help message below the input. */\n  bottomHelpText: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].string, _propTypes[\"default\"].node]),\n\n  /** Specifies that an input field must be filled out before submitting the form.\n   * This value defaults to false. */\n  required: _propTypes[\"default\"].bool,\n\n  /** Specifies that an input field must be filled out before submitting the form. */\n  error: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].string, _propTypes[\"default\"].node]),\n\n  /** Specifies that an input element should be disabled. This value defaults to false. */\n  disabled: _propTypes[\"default\"].bool,\n\n  /** Specifies that an input field is read-only. This value defaults to false. */\n  readOnly: _propTypes[\"default\"].bool,\n\n  /** Specifies the tab order of an element (when the tab button is used for navigating). */\n  tabIndex: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].number, _propTypes[\"default\"].string]),\n\n  /** The action triggered when a value attribute changes. */\n  onChange: _propTypes[\"default\"].func,\n\n  /** The action triggered when the element is clicked. */\n  onClick: _propTypes[\"default\"].func,\n\n  /** The action triggered when the element receives focus. */\n  onFocus: _propTypes[\"default\"].func,\n\n  /** The action triggered when the element releases focus. */\n  onBlur: _propTypes[\"default\"].func,\n\n  /** A CSS class for the outer element, in addition to the component's base classes. */\n  className: _propTypes[\"default\"].string,\n\n  /** An object with custom style applied to the outer element. */\n  style: _propTypes[\"default\"].object,\n\n  /** The id of the outer element. */\n  id: _propTypes[\"default\"].string,\n\n  /** Specifies the available countries for selection. */\n  countries: _propTypes[\"default\"].array\n};\nPhoneInput.defaultProps = {\n  id: undefined,\n  name: undefined,\n  placeholder: null,\n  icon: undefined,\n  label: undefined,\n  hideLabel: false,\n  bottomHelpText: null,\n  required: false,\n  error: null,\n  disabled: false,\n  readOnly: false,\n  tabIndex: undefined,\n  className: undefined,\n  style: undefined,\n  onClick: function onClick() {},\n  onFocus: function onFocus() {},\n  onBlur: function onBlur() {},\n  onChange: function onChange() {},\n  value: undefined,\n  countries: ['af', 'ax', 'al', 'dz', 'as', 'ad', 'ao', 'ai', 'ag', 'ar', 'am', 'aw', 'ac', 'au', 'at', 'az', 'bs', 'bh', 'bd', 'bb', 'by', 'be', 'bz', 'bj', 'bm', 'bt', 'bo', 'bq', 'ba', 'bw', 'br', 'vg', 'bn', 'bg', 'bf', 'bi', 'kh', 'cm', 'ca', 'cv', 'ky', 'cf', 'td', 'cl', 'cn', 'cx', 'cc', 'co', 'km', 'cg', 'cd', 'ck', 'cr', 'ci', 'hr', 'cu', 'cw', 'cy', 'cz', 'dk', 'dj', 'dm', 'do', 'ec', 'eg', 'sv', 'gq', 'er', 'ee', 'et', 'fk', 'fo', 'fj', 'fi', 'fr', 'gf', 'pf', 'ga', 'gm', 'ge', 'de', 'gh', 'gi', 'gr', 'gl', 'gd', 'gp', 'gu', 'gt', 'gg', 'gn', 'gw', 'gy', 'ht', 'hn', 'hk', 'hu', 'is', 'in', 'id', 'ir', 'iq', 'ie', 'im', 'il', 'it', 'jm', 'jp', 'je', 'jo', 'kz', 'ke', 'ki', 'kv', 'kw', 'kg', 'la', 'lv', 'lb', 'ls', 'lr', 'ly', 'li', 'lt', 'lu', 'mo', 'mk', 'mg', 'mw', 'my', 'mv', 'ml', 'mt', 'mh', 'mq', 'mr', 'mu', 'yt', 'mx', 'fm', 'md', 'mc', 'mn', 'me', 'ms', 'ma', 'mz', 'mm', 'na', 'nr', 'np', 'nl', 'nc', 'nz', 'ni', 'ne', 'ng', 'nu', 'nf', 'kp', 'mp', 'no', 'om', 'pk', 'pw', 'ps', 'pa', 'pg', 'py', 'pe', 'ph', 'pl', 'pt', 'pr', 'qa', 're', 'ro', 'ru', 'rw', 'bl', 'sh', 'kn', 'lc', 'mf', 'pm', 'vc', 'ws', 'sm', 'st', 'sa', 'sn', 'rs', 'sc', 'sl', 'sg', 'sx', 'sk', 'si', 'sb', 'so', 'za', 'kr', 'ss', 'es', 'lk', 'sd', 'sr', 'sj', 'sz', 'se', 'ch', 'sy', 'tw', 'tj', 'tz', 'th', 'tl', 'tg', 'tk', 'to', 'tt', 'tn', 'tr', 'tm', 'tc', 'tv', 'vi', 'ug', 'ua', 'ae', 'gb', 'us', 'uy', 'uz', 'vu', 'va', 've', 'vn', 'wf', 'ye', 'zm', 'zw']\n};\nvar _default = PhoneInput;\nexports[\"default\"] = _default;"]},"metadata":{},"sourceType":"script"}