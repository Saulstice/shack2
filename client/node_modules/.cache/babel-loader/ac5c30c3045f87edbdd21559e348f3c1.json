{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _hooks = require(\"@rainbow-modules/hooks\");\n\nvar _label = _interopRequireDefault(require(\"../Input/label\"));\n\nvar _hooks2 = require(\"../../libs/hooks\");\n\nvar _styled = require(\"./styled\");\n\nvar _InternalOverlay = _interopRequireDefault(require(\"../InternalOverlay\"));\n\nvar _RenderIf = _interopRequireDefault(require(\"../RenderIf\"));\n\nvar _helpText = _interopRequireDefault(require(\"../Input/styled/helpText\"));\n\nvar _errorText = _interopRequireDefault(require(\"../Input/styled/errorText\"));\n\nvar _plus = _interopRequireDefault(require(\"./icons/plus\"));\n\nvar _constants = require(\"../../libs/constants\");\n\nvar _helpers = require(\"./helpers\");\n\nvar _normalizeValue = _interopRequireDefault(require(\"./helpers/normalizeValue\"));\n\nvar _content = _interopRequireDefault(require(\"./content\"));\n\nvar MultiSelect = _react[\"default\"].forwardRef(function (props, ref) {\n  var _useReduxForm = (0, _hooks2.useReduxForm)(props),\n      id = _useReduxForm.id,\n      className = _useReduxForm.className,\n      style = _useReduxForm.style,\n      label = _useReduxForm.label,\n      hideLabel = _useReduxForm.hideLabel,\n      placeholder = _useReduxForm.placeholder,\n      error = _useReduxForm.error,\n      bottomHelpText = _useReduxForm.bottomHelpText,\n      required = _useReduxForm.required,\n      disabled = _useReduxForm.disabled,\n      readOnly = _useReduxForm.readOnly,\n      tabIndex = _useReduxForm.tabIndex,\n      variant = _useReduxForm.variant,\n      chipVariant = _useReduxForm.chipVariant,\n      isBare = _useReduxForm.isBare,\n      value = _useReduxForm.value,\n      onChange = _useReduxForm.onChange,\n      onFocus = _useReduxForm.onFocus,\n      onBlur = _useReduxForm.onBlur,\n      children = _useReduxForm.children,\n      showCheckbox = _useReduxForm.showCheckbox;\n\n  var triggerRef = (0, _react.useRef)();\n  var dropdownContainerRef = (0, _react.useRef)();\n  var dropdownRef = (0, _react.useRef)();\n  var comboboxRef = (0, _react.useRef)();\n  var inputRef = (0, _react.useRef)();\n  (0, _react.useImperativeHandle)(ref, function () {\n    return {\n      focus: function focus() {\n        triggerRef.current.focus();\n      },\n      click: function click() {\n        triggerRef.current.click();\n      },\n      blur: function blur() {\n        triggerRef.current.blur();\n      }\n    };\n  });\n\n  var _useState = (0, _react.useState)(false),\n      _useState2 = (0, _slicedToArray2[\"default\"])(_useState, 2),\n      isOpen = _useState2[0],\n      setIsOpen = _useState2[1];\n\n  var labelId = (0, _hooks2.useLabelId)('label');\n  var comboboxId = (0, _hooks2.useUniqueIdentifier)('combobox');\n  var dropdownId = (0, _hooks2.useUniqueIdentifier)('dropdown');\n  var inputId = (0, _hooks2.useUniqueIdentifier)('input');\n  var errorMessageId = (0, _hooks2.useErrorMessageId)();\n\n  var closeAndFocusInput = function closeAndFocusInput() {\n    setIsOpen(false);\n    setTimeout(function () {\n      return triggerRef.current.focus();\n    }, 0);\n  };\n\n  var handleChange = function handleChange(val) {\n    if (!showCheckbox) {\n      closeAndFocusInput();\n    }\n\n    return onChange((0, _normalizeValue[\"default\"])(val));\n  };\n\n  var handleDelete = function handleDelete(option) {\n    if (Array.isArray(value)) {\n      return handleChange(value.filter(function (val) {\n        return val !== option;\n      }));\n    }\n\n    return handleChange([]);\n  };\n\n  var toggleDropdown = function toggleDropdown() {\n    if (disabled || readOnly) return;\n    setIsOpen(!isOpen);\n  };\n\n  var handleKeyDown = function handleKeyDown(event) {\n    if (isOpen) {\n      if (event.keyCode === _constants.ESCAPE_KEY || event.keyCode === _constants.TAB_KEY && !(showCheckbox && event.target.tagName !== 'BUTTON')) {\n        event.preventDefault();\n        closeAndFocusInput();\n      }\n    }\n\n    if (event.target !== comboboxRef.current) return;\n\n    if (event.keyCode === _constants.ENTER_KEY || event.keyCode === _constants.SPACE_KEY) {\n      event.preventDefault();\n      toggleDropdown();\n    }\n  };\n\n  var handleClick = function handleClick() {\n    if (disabled) {\n      return;\n    }\n\n    if (isOpen) {\n      dropdownRef.current.focus();\n      return;\n    }\n\n    if (readOnly) {\n      inputRef.current.focus();\n      return;\n    }\n\n    triggerRef.current.focus();\n  };\n\n  var handleTriggerClick = function handleTriggerClick(event) {\n    event.preventDefault();\n    toggleDropdown();\n  };\n\n  var handleFocus = function handleFocus() {\n    if (!readOnly) {\n      triggerRef.current.focus();\n    }\n  };\n\n  var handleBlur = function handleBlur() {\n    if (!readOnly) {\n      triggerRef.current.blur();\n    }\n  };\n\n  (0, _hooks.useOutsideClick)(dropdownContainerRef, function (event) {\n    if (event.target !== triggerRef.current.buttonRef.current && !triggerRef.current.buttonRef.current.contains(event.target)) {\n      setIsOpen(false);\n    }\n  }, isOpen);\n  (0, _hooks2.useWindowResize)(function () {\n    return setIsOpen(false);\n  }, isOpen);\n\n  var _useState3 = (0, _react.useState)(),\n      _useState4 = (0, _slicedToArray2[\"default\"])(_useState3, 2),\n      chipsBoundingRect = _useState4[0],\n      setChipsBoundingRect = _useState4[1];\n\n  var refCallback = function refCallback(element) {\n    if (element) {\n      var elementRect = JSON.stringify(element.getBoundingClientRect());\n\n      if (!chipsBoundingRect || chipsBoundingRect !== elementRect) {\n        setChipsBoundingRect(elementRect);\n      }\n    }\n  };\n\n  var selectedCount = Array.isArray(value) ? value.length : 1;\n  var shouldRenderContent = (0, _helpers.hasContent)(value);\n  var shouldRenderCount = !!value && selectedCount > 0 && variant === 'default';\n  var shouldRenderButton = !readOnly && !disabled;\n  var inputTabIndex = readOnly ? tabIndex : '-1';\n  var dropdownWidth = comboboxRef.current ? comboboxRef.current.offsetWidth : 0;\n  return _react[\"default\"].createElement(_styled.StyledContainer, {\n    id: id,\n    className: className,\n    style: style\n  }, _react[\"default\"].createElement(_label[\"default\"], {\n    id: labelId,\n    label: label,\n    hideLabel: hideLabel,\n    required: required,\n    inputId: inputId\n  }), _react[\"default\"].createElement(_styled.StyledCombobox, {\n    id: comboboxId,\n    isBare: isBare,\n    error: error,\n    disabled: disabled,\n    role: \"combobox\",\n    \"aria-controls\": dropdownId,\n    \"aria-expanded\": isOpen,\n    onClick: handleClick,\n    onKeyDown: handleKeyDown,\n    ref: comboboxRef,\n    \"aria-labelledby\": labelId\n  }, _react[\"default\"].createElement(_styled.StyledInput, {\n    id: inputId,\n    role: \"textbox\",\n    \"aria-autocomplete\": \"none\",\n    tabIndex: inputTabIndex,\n    disabled: disabled,\n    onFocus: handleFocus,\n    onBlur: handleBlur,\n    ref: inputRef,\n    readOnly: true\n  }), _react[\"default\"].createElement(_styled.StyledChipContainer, {\n    ref: refCallback\n  }, _react[\"default\"].createElement(_RenderIf[\"default\"], {\n    isTrue: !shouldRenderContent\n  }, _react[\"default\"].createElement(_styled.StyledPlaceholder, null, placeholder)), _react[\"default\"].createElement(_RenderIf[\"default\"], {\n    isTrue: shouldRenderContent\n  }, _react[\"default\"].createElement(_content[\"default\"], {\n    variant: variant,\n    chipVariant: chipVariant,\n    readOnly: readOnly,\n    disabled: disabled,\n    value: value,\n    onDelete: handleDelete\n  }))), _react[\"default\"].createElement(_RenderIf[\"default\"], {\n    isTrue: shouldRenderCount\n  }, _react[\"default\"].createElement(_styled.StyledCountText, {\n    readOnly: readOnly\n  }, \"(\", selectedCount, \")\")), _react[\"default\"].createElement(_RenderIf[\"default\"], {\n    isTrue: shouldRenderButton\n  }, _react[\"default\"].createElement(_styled.StyledButtonIcon, {\n    title: \"Add\",\n    variant: \"neutral\",\n    size: \"small\",\n    icon: _react[\"default\"].createElement(_plus[\"default\"], null),\n    onClick: handleTriggerClick,\n    disabled: disabled,\n    ref: triggerRef,\n    tabIndex: tabIndex,\n    onFocus: onFocus,\n    onBlur: onBlur\n  })), _react[\"default\"].createElement(_InternalOverlay[\"default\"], {\n    isVisible: isOpen,\n    positionResolver: _helpers.positionResolver,\n    onOpened: function onOpened() {\n      return dropdownRef.current.focus();\n    },\n    triggerElementRef: function triggerElementRef() {\n      return comboboxRef;\n    }\n  }, _react[\"default\"].createElement(\"div\", {\n    ref: dropdownContainerRef\n  }, _react[\"default\"].createElement(_styled.StyledDropdown, {\n    id: dropdownId,\n    value: value,\n    onChange: handleChange,\n    ref: dropdownRef,\n    width: dropdownWidth,\n    placeholder: placeholder,\n    showCheckbox: showCheckbox,\n    multiple: true\n  }, children)))), _react[\"default\"].createElement(_RenderIf[\"default\"], {\n    isTrue: bottomHelpText\n  }, _react[\"default\"].createElement(_helpText[\"default\"], {\n    alignSelf: \"center\"\n  }, bottomHelpText)), _react[\"default\"].createElement(_RenderIf[\"default\"], {\n    isTrue: error\n  }, _react[\"default\"].createElement(_errorText[\"default\"], {\n    alignSelf: \"center\",\n    id: errorMessageId\n  }, error)));\n});\n\nMultiSelect.propTypes = {\n  /** A CSS class for the outer element, in addition to the component's base classes. */\n  className: _propTypes[\"default\"].string,\n\n  /** An object with custom style applied to the outer element. */\n  style: _propTypes[\"default\"].object,\n\n  /** Text label for the input. */\n  label: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].string, _propTypes[\"default\"].node]),\n\n  /** A boolean to hide the input label. */\n  hideLabel: _propTypes[\"default\"].bool,\n\n  /** Text that is displayed when the field is empty, to prompt the user for a valid entry. */\n  placeholder: _propTypes[\"default\"].string,\n\n  /** Specifies that an input field must be filled out before submitting the form. */\n  error: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].string, _propTypes[\"default\"].node]),\n\n  /** Shows the help message below the input. */\n  bottomHelpText: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].string, _propTypes[\"default\"].node]),\n\n  /** Specifies that an input field must be filled out before submitting the form.\n   * This value defaults to false. */\n  required: _propTypes[\"default\"].bool,\n\n  /** Specifies that an input element should be disabled. This value defaults to false. */\n  disabled: _propTypes[\"default\"].bool,\n\n  /** Specifies that an input field is read-only. This value defaults to false. */\n  readOnly: _propTypes[\"default\"].bool,\n\n  /** Specifies the tab order of an element (when the tab button is used for navigating). */\n  tabIndex: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].number, _propTypes[\"default\"].string]),\n\n  /** Specifies the variant for the input. */\n  variant: _propTypes[\"default\"].oneOf(['default', 'chip']),\n\n  /** Specifies the variant for the chips. */\n  chipVariant: _propTypes[\"default\"].oneOf(['base', 'neutral', 'outline-brand', 'brand']),\n\n  /** Specifies that an input will not have border. This value defaults to false. */\n  isBare: _propTypes[\"default\"].bool,\n\n  /** Specifies the value of an input element. */\n  value: _propTypes[\"default\"].arrayOf(_propTypes[\"default\"].shape({\n    name: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].string, _propTypes[\"default\"].number]),\n    label: _propTypes[\"default\"].string,\n    value: _propTypes[\"default\"].any\n  })),\n\n  /** The action triggered when a value attribute changes. */\n  onChange: _propTypes[\"default\"].func,\n\n  /** The action triggered when the element receives focus. */\n  onFocus: _propTypes[\"default\"].func,\n\n  /** The action triggered when the element releases focus. */\n  onBlur: _propTypes[\"default\"].func,\n\n  /**\n   * This prop that should not be visible in the documentation.\n   * @ignore\n   */\n  children: _propTypes[\"default\"].node\n};\nMultiSelect.defaultProps = {\n  className: undefined,\n  style: undefined,\n  label: undefined,\n  hideLabel: false,\n  placeholder: null,\n  error: null,\n  bottomHelpText: null,\n  required: false,\n  disabled: false,\n  readOnly: false,\n  tabIndex: 0,\n  variant: 'default',\n  chipVariant: 'base',\n  isBare: false,\n  value: undefined,\n  onChange: function onChange() {},\n  onFocus: function onFocus() {},\n  onBlur: function onBlur() {},\n  children: null\n};\nvar _default = MultiSelect;\nexports[\"default\"] = _default;","map":{"version":3,"sources":["/Users/Saul/Desktop/shack2/node_modules/react-rainbow-components/components/MultiSelect/index.js"],"names":["_interopRequireWildcard","require","_interopRequireDefault","Object","defineProperty","exports","value","_slicedToArray2","_react","_propTypes","_hooks","_label","_hooks2","_styled","_InternalOverlay","_RenderIf","_helpText","_errorText","_plus","_constants","_helpers","_normalizeValue","_content","MultiSelect","forwardRef","props","ref","_useReduxForm","useReduxForm","id","className","style","label","hideLabel","placeholder","error","bottomHelpText","required","disabled","readOnly","tabIndex","variant","chipVariant","isBare","onChange","onFocus","onBlur","children","showCheckbox","triggerRef","useRef","dropdownContainerRef","dropdownRef","comboboxRef","inputRef","useImperativeHandle","focus","current","click","blur","_useState","useState","_useState2","isOpen","setIsOpen","labelId","useLabelId","comboboxId","useUniqueIdentifier","dropdownId","inputId","errorMessageId","useErrorMessageId","closeAndFocusInput","setTimeout","handleChange","val","handleDelete","option","Array","isArray","filter","toggleDropdown","handleKeyDown","event","keyCode","ESCAPE_KEY","TAB_KEY","target","tagName","preventDefault","ENTER_KEY","SPACE_KEY","handleClick","handleTriggerClick","handleFocus","handleBlur","useOutsideClick","buttonRef","contains","useWindowResize","_useState3","_useState4","chipsBoundingRect","setChipsBoundingRect","refCallback","element","elementRect","JSON","stringify","getBoundingClientRect","selectedCount","length","shouldRenderContent","hasContent","shouldRenderCount","shouldRenderButton","inputTabIndex","dropdownWidth","offsetWidth","createElement","StyledContainer","StyledCombobox","role","onClick","onKeyDown","StyledInput","StyledChipContainer","isTrue","StyledPlaceholder","onDelete","StyledCountText","StyledButtonIcon","title","size","icon","isVisible","positionResolver","onOpened","triggerElementRef","StyledDropdown","width","multiple","alignSelf","propTypes","string","object","oneOfType","node","bool","number","oneOf","arrayOf","shape","name","any","func","defaultProps","undefined","_default"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _hooks = require(\"@rainbow-modules/hooks\");\n\nvar _label = _interopRequireDefault(require(\"../Input/label\"));\n\nvar _hooks2 = require(\"../../libs/hooks\");\n\nvar _styled = require(\"./styled\");\n\nvar _InternalOverlay = _interopRequireDefault(require(\"../InternalOverlay\"));\n\nvar _RenderIf = _interopRequireDefault(require(\"../RenderIf\"));\n\nvar _helpText = _interopRequireDefault(require(\"../Input/styled/helpText\"));\n\nvar _errorText = _interopRequireDefault(require(\"../Input/styled/errorText\"));\n\nvar _plus = _interopRequireDefault(require(\"./icons/plus\"));\n\nvar _constants = require(\"../../libs/constants\");\n\nvar _helpers = require(\"./helpers\");\n\nvar _normalizeValue = _interopRequireDefault(require(\"./helpers/normalizeValue\"));\n\nvar _content = _interopRequireDefault(require(\"./content\"));\n\nvar MultiSelect = _react[\"default\"].forwardRef(function (props, ref) {\n  var _useReduxForm = (0, _hooks2.useReduxForm)(props),\n      id = _useReduxForm.id,\n      className = _useReduxForm.className,\n      style = _useReduxForm.style,\n      label = _useReduxForm.label,\n      hideLabel = _useReduxForm.hideLabel,\n      placeholder = _useReduxForm.placeholder,\n      error = _useReduxForm.error,\n      bottomHelpText = _useReduxForm.bottomHelpText,\n      required = _useReduxForm.required,\n      disabled = _useReduxForm.disabled,\n      readOnly = _useReduxForm.readOnly,\n      tabIndex = _useReduxForm.tabIndex,\n      variant = _useReduxForm.variant,\n      chipVariant = _useReduxForm.chipVariant,\n      isBare = _useReduxForm.isBare,\n      value = _useReduxForm.value,\n      onChange = _useReduxForm.onChange,\n      onFocus = _useReduxForm.onFocus,\n      onBlur = _useReduxForm.onBlur,\n      children = _useReduxForm.children,\n      showCheckbox = _useReduxForm.showCheckbox;\n\n  var triggerRef = (0, _react.useRef)();\n  var dropdownContainerRef = (0, _react.useRef)();\n  var dropdownRef = (0, _react.useRef)();\n  var comboboxRef = (0, _react.useRef)();\n  var inputRef = (0, _react.useRef)();\n  (0, _react.useImperativeHandle)(ref, function () {\n    return {\n      focus: function focus() {\n        triggerRef.current.focus();\n      },\n      click: function click() {\n        triggerRef.current.click();\n      },\n      blur: function blur() {\n        triggerRef.current.blur();\n      }\n    };\n  });\n\n  var _useState = (0, _react.useState)(false),\n      _useState2 = (0, _slicedToArray2[\"default\"])(_useState, 2),\n      isOpen = _useState2[0],\n      setIsOpen = _useState2[1];\n\n  var labelId = (0, _hooks2.useLabelId)('label');\n  var comboboxId = (0, _hooks2.useUniqueIdentifier)('combobox');\n  var dropdownId = (0, _hooks2.useUniqueIdentifier)('dropdown');\n  var inputId = (0, _hooks2.useUniqueIdentifier)('input');\n  var errorMessageId = (0, _hooks2.useErrorMessageId)();\n\n  var closeAndFocusInput = function closeAndFocusInput() {\n    setIsOpen(false);\n    setTimeout(function () {\n      return triggerRef.current.focus();\n    }, 0);\n  };\n\n  var handleChange = function handleChange(val) {\n    if (!showCheckbox) {\n      closeAndFocusInput();\n    }\n\n    return onChange((0, _normalizeValue[\"default\"])(val));\n  };\n\n  var handleDelete = function handleDelete(option) {\n    if (Array.isArray(value)) {\n      return handleChange(value.filter(function (val) {\n        return val !== option;\n      }));\n    }\n\n    return handleChange([]);\n  };\n\n  var toggleDropdown = function toggleDropdown() {\n    if (disabled || readOnly) return;\n    setIsOpen(!isOpen);\n  };\n\n  var handleKeyDown = function handleKeyDown(event) {\n    if (isOpen) {\n      if (event.keyCode === _constants.ESCAPE_KEY || event.keyCode === _constants.TAB_KEY && !(showCheckbox && event.target.tagName !== 'BUTTON')) {\n        event.preventDefault();\n        closeAndFocusInput();\n      }\n    }\n\n    if (event.target !== comboboxRef.current) return;\n\n    if (event.keyCode === _constants.ENTER_KEY || event.keyCode === _constants.SPACE_KEY) {\n      event.preventDefault();\n      toggleDropdown();\n    }\n  };\n\n  var handleClick = function handleClick() {\n    if (disabled) {\n      return;\n    }\n\n    if (isOpen) {\n      dropdownRef.current.focus();\n      return;\n    }\n\n    if (readOnly) {\n      inputRef.current.focus();\n      return;\n    }\n\n    triggerRef.current.focus();\n  };\n\n  var handleTriggerClick = function handleTriggerClick(event) {\n    event.preventDefault();\n    toggleDropdown();\n  };\n\n  var handleFocus = function handleFocus() {\n    if (!readOnly) {\n      triggerRef.current.focus();\n    }\n  };\n\n  var handleBlur = function handleBlur() {\n    if (!readOnly) {\n      triggerRef.current.blur();\n    }\n  };\n\n  (0, _hooks.useOutsideClick)(dropdownContainerRef, function (event) {\n    if (event.target !== triggerRef.current.buttonRef.current && !triggerRef.current.buttonRef.current.contains(event.target)) {\n      setIsOpen(false);\n    }\n  }, isOpen);\n  (0, _hooks2.useWindowResize)(function () {\n    return setIsOpen(false);\n  }, isOpen);\n\n  var _useState3 = (0, _react.useState)(),\n      _useState4 = (0, _slicedToArray2[\"default\"])(_useState3, 2),\n      chipsBoundingRect = _useState4[0],\n      setChipsBoundingRect = _useState4[1];\n\n  var refCallback = function refCallback(element) {\n    if (element) {\n      var elementRect = JSON.stringify(element.getBoundingClientRect());\n\n      if (!chipsBoundingRect || chipsBoundingRect !== elementRect) {\n        setChipsBoundingRect(elementRect);\n      }\n    }\n  };\n\n  var selectedCount = Array.isArray(value) ? value.length : 1;\n  var shouldRenderContent = (0, _helpers.hasContent)(value);\n  var shouldRenderCount = !!value && selectedCount > 0 && variant === 'default';\n  var shouldRenderButton = !readOnly && !disabled;\n  var inputTabIndex = readOnly ? tabIndex : '-1';\n  var dropdownWidth = comboboxRef.current ? comboboxRef.current.offsetWidth : 0;\n  return _react[\"default\"].createElement(_styled.StyledContainer, {\n    id: id,\n    className: className,\n    style: style\n  }, _react[\"default\"].createElement(_label[\"default\"], {\n    id: labelId,\n    label: label,\n    hideLabel: hideLabel,\n    required: required,\n    inputId: inputId\n  }), _react[\"default\"].createElement(_styled.StyledCombobox, {\n    id: comboboxId,\n    isBare: isBare,\n    error: error,\n    disabled: disabled,\n    role: \"combobox\",\n    \"aria-controls\": dropdownId,\n    \"aria-expanded\": isOpen,\n    onClick: handleClick,\n    onKeyDown: handleKeyDown,\n    ref: comboboxRef,\n    \"aria-labelledby\": labelId\n  }, _react[\"default\"].createElement(_styled.StyledInput, {\n    id: inputId,\n    role: \"textbox\",\n    \"aria-autocomplete\": \"none\",\n    tabIndex: inputTabIndex,\n    disabled: disabled,\n    onFocus: handleFocus,\n    onBlur: handleBlur,\n    ref: inputRef,\n    readOnly: true\n  }), _react[\"default\"].createElement(_styled.StyledChipContainer, {\n    ref: refCallback\n  }, _react[\"default\"].createElement(_RenderIf[\"default\"], {\n    isTrue: !shouldRenderContent\n  }, _react[\"default\"].createElement(_styled.StyledPlaceholder, null, placeholder)), _react[\"default\"].createElement(_RenderIf[\"default\"], {\n    isTrue: shouldRenderContent\n  }, _react[\"default\"].createElement(_content[\"default\"], {\n    variant: variant,\n    chipVariant: chipVariant,\n    readOnly: readOnly,\n    disabled: disabled,\n    value: value,\n    onDelete: handleDelete\n  }))), _react[\"default\"].createElement(_RenderIf[\"default\"], {\n    isTrue: shouldRenderCount\n  }, _react[\"default\"].createElement(_styled.StyledCountText, {\n    readOnly: readOnly\n  }, \"(\", selectedCount, \")\")), _react[\"default\"].createElement(_RenderIf[\"default\"], {\n    isTrue: shouldRenderButton\n  }, _react[\"default\"].createElement(_styled.StyledButtonIcon, {\n    title: \"Add\",\n    variant: \"neutral\",\n    size: \"small\",\n    icon: _react[\"default\"].createElement(_plus[\"default\"], null),\n    onClick: handleTriggerClick,\n    disabled: disabled,\n    ref: triggerRef,\n    tabIndex: tabIndex,\n    onFocus: onFocus,\n    onBlur: onBlur\n  })), _react[\"default\"].createElement(_InternalOverlay[\"default\"], {\n    isVisible: isOpen,\n    positionResolver: _helpers.positionResolver,\n    onOpened: function onOpened() {\n      return dropdownRef.current.focus();\n    },\n    triggerElementRef: function triggerElementRef() {\n      return comboboxRef;\n    }\n  }, _react[\"default\"].createElement(\"div\", {\n    ref: dropdownContainerRef\n  }, _react[\"default\"].createElement(_styled.StyledDropdown, {\n    id: dropdownId,\n    value: value,\n    onChange: handleChange,\n    ref: dropdownRef,\n    width: dropdownWidth,\n    placeholder: placeholder,\n    showCheckbox: showCheckbox,\n    multiple: true\n  }, children)))), _react[\"default\"].createElement(_RenderIf[\"default\"], {\n    isTrue: bottomHelpText\n  }, _react[\"default\"].createElement(_helpText[\"default\"], {\n    alignSelf: \"center\"\n  }, bottomHelpText)), _react[\"default\"].createElement(_RenderIf[\"default\"], {\n    isTrue: error\n  }, _react[\"default\"].createElement(_errorText[\"default\"], {\n    alignSelf: \"center\",\n    id: errorMessageId\n  }, error)));\n});\n\nMultiSelect.propTypes = {\n  /** A CSS class for the outer element, in addition to the component's base classes. */\n  className: _propTypes[\"default\"].string,\n\n  /** An object with custom style applied to the outer element. */\n  style: _propTypes[\"default\"].object,\n\n  /** Text label for the input. */\n  label: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].string, _propTypes[\"default\"].node]),\n\n  /** A boolean to hide the input label. */\n  hideLabel: _propTypes[\"default\"].bool,\n\n  /** Text that is displayed when the field is empty, to prompt the user for a valid entry. */\n  placeholder: _propTypes[\"default\"].string,\n\n  /** Specifies that an input field must be filled out before submitting the form. */\n  error: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].string, _propTypes[\"default\"].node]),\n\n  /** Shows the help message below the input. */\n  bottomHelpText: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].string, _propTypes[\"default\"].node]),\n\n  /** Specifies that an input field must be filled out before submitting the form.\n   * This value defaults to false. */\n  required: _propTypes[\"default\"].bool,\n\n  /** Specifies that an input element should be disabled. This value defaults to false. */\n  disabled: _propTypes[\"default\"].bool,\n\n  /** Specifies that an input field is read-only. This value defaults to false. */\n  readOnly: _propTypes[\"default\"].bool,\n\n  /** Specifies the tab order of an element (when the tab button is used for navigating). */\n  tabIndex: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].number, _propTypes[\"default\"].string]),\n\n  /** Specifies the variant for the input. */\n  variant: _propTypes[\"default\"].oneOf(['default', 'chip']),\n\n  /** Specifies the variant for the chips. */\n  chipVariant: _propTypes[\"default\"].oneOf(['base', 'neutral', 'outline-brand', 'brand']),\n\n  /** Specifies that an input will not have border. This value defaults to false. */\n  isBare: _propTypes[\"default\"].bool,\n\n  /** Specifies the value of an input element. */\n  value: _propTypes[\"default\"].arrayOf(_propTypes[\"default\"].shape({\n    name: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].string, _propTypes[\"default\"].number]),\n    label: _propTypes[\"default\"].string,\n    value: _propTypes[\"default\"].any\n  })),\n\n  /** The action triggered when a value attribute changes. */\n  onChange: _propTypes[\"default\"].func,\n\n  /** The action triggered when the element receives focus. */\n  onFocus: _propTypes[\"default\"].func,\n\n  /** The action triggered when the element releases focus. */\n  onBlur: _propTypes[\"default\"].func,\n\n  /**\n   * This prop that should not be visible in the documentation.\n   * @ignore\n   */\n  children: _propTypes[\"default\"].node\n};\nMultiSelect.defaultProps = {\n  className: undefined,\n  style: undefined,\n  label: undefined,\n  hideLabel: false,\n  placeholder: null,\n  error: null,\n  bottomHelpText: null,\n  required: false,\n  disabled: false,\n  readOnly: false,\n  tabIndex: 0,\n  variant: 'default',\n  chipVariant: 'base',\n  isBare: false,\n  value: undefined,\n  onChange: function onChange() {},\n  onFocus: function onFocus() {},\n  onBlur: function onBlur() {},\n  children: null\n};\nvar _default = MultiSelect;\nexports[\"default\"] = _default;"]},"metadata":{},"sourceType":"script"}